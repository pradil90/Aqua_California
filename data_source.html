<!DOCTYPE html>
<html lang="en" ng-app="mainModule">

<head>
    <title>Aqua-California Visualization</title><link rel="icon" type="image/x-icon" href="aqualogotitle.png" /> 
 
 <meta name="description" content="Aqua-California,california,drought results of california,California water results,California water management">
    <meta name="author" content="Alice,Pradeep Ivan">
        <meta name="keywords" content="California,Aqua,Aqua-California,Redis,Drought,Water Resources,Rainfall,Water,Consumption,exhaution,reservoir,Water usage,Industrial usage,temperature,precipitation,domestic usage">

 <link rel="stylesheet" href="http://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
  

  <script src="assets/js/jquery/jquery-1.9.1.min.js" type="text/javascript"></script>
  <script src="http://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
  <script src="https://code.angularjs.org/1.2.4/angular.js"></script>
     <script src="http://d3js.org/d3.v3.min.js"></script>
   

   <link rel="stylesheet" href="http://billmill.org/css/style.css" />
 





  <link rel="stylesheet" href="/resources/demos/style.css">
  
 
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

   

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="assets/css/bootstrap/bootstrap.css" /> 
    
    <!-- Fonts  -->
    <link href='http://fonts.googleapis.com/css?family=Raleway:400,500,600,700,300' rel='stylesheet' type='text/css'>
    
    <!-- Base Styling  -->
    <link rel="stylesheet" href="assets/css/app/app.v1.css" />
   

 <style>
 table { table-layout: fixed; border: 1px solid black; }
td { width: 33%; border: 1px solid black;;}

</style>

</head>
<body ng-app>

    <!-- Preloader -->
    <div class="loading-container">
      <div class="loading">
        <div class="l1">
          <div></div>
        </div>
        <div class="l2">
          <div></div>
        </div>
        <div class="l3">
          <div></div>
        </div>
        <div class="l4">
          <div></div>
        </div>
      </div>
    </div>
    <!-- Preloader -->  
    <div ng-controller="dashboardController1 as store">   

         

                  <div id="menu" style="display: none;">
        <aside class="left-panel">
            
            <div class="user text-center">
                  <img src="aqualogo.png" class="img-circle" alt="...">
                  <h4 class="user-name">Aqua California</h4>
                  
                  <div class="dropdown user-login">
                  <button class="btn btn-xs dropdown-toggle btn-rounded" type="button" data-toggle="dropdown" aria-expanded="true">
                    <i class="fa fa-circle status-icon available"></i> Language <i class="fa fa-angle-down"></i>
                  </button>
                  <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1">
                    <li role="presentation"><a role="menuitem" href="#" ng-click="click()"><i class="fa fa-circle status-icon busy"></i> English </a></li>
                    <li role="presentation"><a role="menuitem" href="#" ng-click="click1()"><i class="fa fa-circle status-icon invisibled"></i> French  </a></li>
                    <li role="presentation"><a role="menuitem" href="#" ng-click="click2()"><i class="fa fa-circle status-icon invisibled"></i> Chinese </a></li>
                    <li role="presentation"><a role="menuitem" href="#"><i class="fa fa-circle status-icon signout"></i> Sign out</a></li>
                  </ul>
                  </div>     
            </div>
            
         <style>

aside {
  z-index: 9999;
 overflow-y: scroll;
 cursor: pointer;
}


</style>
            
            <nav class="navigation">
                <ul class="list-unstyled">

                    <li class="active"><a href="/Drought_flow/"><i class="fa fa-bookmark-o"></i><span class="nav-label">Drought Tree</span></a></li>

                    <li class="has-submenu"><a href="/MapGraph#"><i class="fa fa-comment-o"></i> <span class="nav-label">Spatial Clustering</span></a></li>

                   

                    <li class="has-submenu"><a href="/SpiderGraph"><i class="fa fa-comment-o"></i> <span class="nav-label">Drought Radar </span></a></li>

                    

                    <li class="has-submenu"><a href="/Waterflow"><i class="fa fa-comment-o"></i> <span class="nav-label">Water Exhaustion</span></a> </li>

                     <li class="has-submenu"><a href="/ComparisonTable"><i class="fa fa-star-o"></i> <span class="nav-label">Comparative Study</span></a></li>

                    <li class="has-submenu"><a href="/Dashboard"><i class="fa fa-bookmark-o"></i><span class="nav-label"> Domain Dashboard </span></a></li>

                    <!--<li class="has-submenu"><a href="/DroughtMonitor"><i class="fa fa-flag-o"></i> <span class="nav-label">California PDSI</span></a>
                        
                    </li>
                    <li class="has-submenu"><a href="/resvoir"><i class="fa fa-file-text-o"></i> <span class="nav-label">Reservoir Levels</span></a>
                       
                    </li>

                     

                    <li class="has-submenu"><a href="/WaterManagement"><i class="fa fa-file-text-o"></i> <span class="nav-label">Water Management</span></a>
                       
                    </li>
                  <li class="has-submenu"><a href="#"><i class="fa fa-file-text-o"></i> <span class="nav-label">{{store.products.side6}}</span></a> -->
                      
                    </li>
                    <li class="has-submenu"><a href="/facts"><i class="fa fa-star-o"></i> <span class="nav-label">Facts and Information</span></a>
                        
                    </li>
                    <!-- <li class="has-submenu"><a href="#"><i class="fa fa-star-o"></i> <span class="nav-label">{{store.products.side8}}</span></a>
                        
                    </li> -->
                    <li class="has-submenu"><a href="/Settings"><i class="fa fa-star-o"></i> <span class="nav-label">System Status</span></a>
                        
                    </li>

                    <li class="has-submenu"><a href="/data_source"><i class="fa fa-star-o"></i> <span class="nav-label">Data Source</span></a></li>
                </ul>
            </nav>
       
    </aside>
</div>
    <!-- Aside Ends-->







   <header class="top-head container-fluid">
            <button type="button" class="navbar-toggle pull-left">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            
            <form role="search" class="navbar-left app-search pull-left hidden-xs">
              <input type="text" placeholder="Enter Keywords" class="form-control form-control-circle">
            </form>
            
            <nav class=" navbar-default hidden-xs" role="navigation">
                <ul class="nav navbar-nav">
               <li><a href="/">Home</a></li>
                <li><a style="cursor: pointer;" id="BrowseBtn">Browse Drought-Watch</a></li>

                <li class="dropdown">
                  <a data-toggle="dropdown" class="dropdown-toggle" href="#">About Us<span class="caret"></span></a>
                  <ul role="menu" class="dropdown-menu">
                    <li><a href="#">Management</a></li>
                    <li><a href="#">Pricing</a></li>
                    <li><a href="#">Service Request</a></li>
                    <li class="divider"></li>
                    <li><a href="#">Registration</a></li>
                    <li class="divider"></li>
                    <li><a href="#">Contact Us</a></li>
                  </ul>
                </li>
              </ul>
            </nav>
            
           
        </header>


<script>

$( "#BrowseBtn" ).click(function() {
   //$("#menu").show("slow");
   $("#menu").animate({left:200, opacity:"show"}, 1500);

});

$( "#menu" ).mouseleave(function() {
   $("#menu").hide("slow");
 
});

</script>

 
     
        
        



        <!--Start of main program data visulization object-->
<div ng-controller="dashboardController">

  

<style>
  #heading {

        padding-top: 30px;
        font-family: 'Hammersmith One', sans-serif;
        font-size: 48px;

     }

</style>

<center><div id="heading"> Data Source Table </div></center>

                    <div class="warper container-fluid">



                  <div class="row">


                      <style>
                            table {
                              border-collapse: collapse;

                            }
                            th {
                              border-bottom: 2px solid #ddd;
                              padding: 8px;
                              font-weight: bold;
                            }
                            td {
                              padding: 8px;
                              border-top: 1px solid #ddd;
                            }
                            #chart {
                              padding: 0px;
                            }
                            .xaxislabel {
                              font-size: 9px;
                            }
                            </style>






                                  <div id="datatable" style="padding: 50px;"></div>





        
                    </div><!-- end of row -->

                

                <script>

                          var rows = []
                          var formatdate = d3.time.format("%b %d %Y");

                          d3.csv("data_source.csv", function(error, csv) {
                            csv.forEach(function(row) {
                              row.mu = parseFloat(row.mu).toFixed(1);
                              row.sigma = parseFloat(row.sigma).toFixed(1);
                              row.dt = formatdate(new Date(Date.parse(row.date)));

                              var res = parseFloat(row.result);
                              if (res < 5) {
                                row.result = "integer";
                              } else {
                                row.result = "Double Precision";
                              }
                              
                              rows.push(row);
                            });

                            var table = d3.select("#datatable").append("table");
                                thead = table.append("thead");
                                tbody = table.append("tbody");

                            thead.append("th").text("S.No");
                            thead.append("th").text("Data Name");
                            thead.append("th").text("URL Link");
                            thead.append("th").text("Data Format");
                            thead.append("th").text("Size(Bytes)");
                            thead.append("th").text("");

                            var tr = tbody.selectAll("tr")
                                .data(rows)
                                .enter().append("tr");

                            var td = tr.selectAll("td")
                                  .data(function(d) { return [d.SNo, d.dataname, d.opp, d.result, d.mu]; })
                                .enter().append("td")
                                  .text(function(d) { return d; });

                            var width = 80,
                                height = d3.select("table")[0][0].clientHeight,
                                mx = 10,
                                radius = 2;

                            // Now add the chart column
                            d3.select("#datatable tbody tr").append("td")
                              .attr("id", "chart")
                              .attr("width", width + "px")
                              .attr("rowspan", rows.length);

                            var chart = d3.select("#chart").append("svg")
                                .attr("class", "chart")
                                .attr("width", width)
                                .attr("height", height);

                            var maxMu = 0;
                            var minMu = Number.MAX_VALUE;
                            for (i=0; i < rows.length; i++) {
                              if (rows[i].mu > maxMu) { maxMu = rows[i].mu; }
                              if (rows[i].mu < minMu) { minMu = rows[i].mu; }
                            }

                            var dates = rows.map(function(t) { return t.dt; });

                            var xscale = d3.scale.linear()
                              .domain([minMu, maxMu])
                              .range([mx, width-mx])
                              .nice();

                            var yscale = d3.scale.ordinal()
                              .domain(dates)
                              .rangeBands([0, height]);

                            chart.selectAll(".xaxislabel")
                                .data(xscale.ticks(2))
                              .enter().append("text")
                                .attr("class", "xaxislabel")
                                .attr("x", function(d) { return xscale(d); })
                                .attr("y", 10)
                                .attr("text-anchor", "middle")
                                .text(String)

                            chart.selectAll(".xaxistick")
                                .data(xscale.ticks(2))
                              .enter().append("line")
                                .attr("x1", function(d) { return xscale(d); })
                                .attr("x2", function(d) { return xscale(d); })
                                .attr("y1", 10)
                                .attr("y2", height)
                                .attr("stroke", "#eee")
                                .attr("stroke-width", 1);

                            chart.selectAll(".line")
                                .data(rows)
                              .enter().append("line")
                                .attr("x1", function(d) { return xscale(d.mu); })
                                .attr("y1", function(d) { return yscale(d.dt) + yscale.rangeBand()/2; })
                                .attr("x2", function(d,i) { return rows[i+1] ? xscale(rows[i+1].mu) : xscale(d.mu); })
                                .attr("y2", function(d,i) { return rows[i+1] ? yscale(rows[i+1].dt) + yscale.rangeBand()/2 : yscale(d.dt) + yscale.rangeBand()/2; })
                                .attr("stroke", "#777")
                                .attr("stroke-width", 1);

                            var pt = chart.selectAll(".pt")
                                .data(rows)
                              .enter().append("g")
                                .attr("class", "pt")
                                .attr("transform", function(d) { return "translate(" + xscale(d.mu) + "," + (yscale(d.dt) + yscale.rangeBand()/2) + ")"; });

                            pt.append("circle")
                                .attr("cx", 0)
                                .attr("cy", 0)
                                .attr("r", radius)
                                .attr("opacity", .5)
                                .attr("fill", "#ff0000");

                          });
                          </script>
         


                  <hr><br>
             <style type="text/css">
                .container{
                        text-align: center;
                }
             </style>

             <div class="warper container-fluid">
             <div class="container">
                          <h2>Aqua-Visualization</h2>
                          
                          <ul class="pagination">
                            <li><a href="/Dashboard">1</a></li>
                        
                             <li><a href="Waterflow">2</a></li>
                            <li><a href="/DroughtMonitor">3</a></li>
                            
                            <li><a href="/resvoir">4</a></li>
                            <li class="active"><a href="/WaterManagement">5</a></li>
                            <li><a href="/facts">6</a></li>
                            <li><a href="/Settings">7</a></li>
                          </ul>
                </div> 
            
            
            
        </div>
        <!-- Warper Ends Here (working area) -->
        
 </div>      
   
        
    
    </section>
    <!-- Content Block Ends Here (right box)-->
    
     </div> 
    
    <!-- JQuery v1.9.1 -->
    
    <script src="assets/js/plugins/underscore/underscore-min.js"></script>
   <!-- Bootstrap -->
    <script src="assets/js/bootstrap/bootstrap.min.js"></script>
    
  <!-- Globalize -->
    <script src="assets/js/globalize/globalize.min.js"></script>
    
     <!-- NanoScroll -->
    <script src="assets/js/plugins/nicescroll/jquery.nicescroll.min.js"></script>
    
     <!-- Chart JS -->
    <script src="assets/js/plugins/DevExpressChartJS/dx.chartjs.js"></script>
     <!-- For Demo Charts -->
    <script src="assets/js/plugins/DevExpressChartJS/demo-charts.js"></script>
    <script src="Dashboard-chart.js"></script>
    <script src="localization.js"></script>

    <script src="assets/js/app/custom.js" type="text/javascript"></script>
    

    
    </body>
</html>